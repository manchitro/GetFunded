<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />
    <title>Moderator Home</title>
  </head>
  <body>
    <div
      class="w3-sidebar w3-bar-block w3-light-grey w3-card"
      style="width: 130px"
    >
      <h5 class="w3-bar-item">Menu</h5>
      <button
        class="w3-bar-item w3-button tablink"
        onclick="openTab(event, 'Events')"
      >
        Events
      </button>
      <button
        class="w3-bar-item w3-button tablink"
        onclick="openTab(event, 'Contact')"
      >
        Contact
      </button>
      <button
        class="w3-bar-item w3-button tablink"
        onclick="openTab(event, 'Reports')"
      >
        Reports
      </button>
    </div>
    <div style="margin-left: 130px">
      <div class="w3-container tab" id="Events" style="display: none">
        
        <h2>Events</h2>
        

        <a href="/home">Back</a> |
        <div><a href="/logout">logout</a></div>
        <br>
      
        <table border="1">
          <tr>
            <td>Id</td>
            <td>Event Name</td>
            <td>Creator Id</td>
            <td>Description</td>
            <td>Goal Amount</td>
            <td>Goal Date</td>
            <td>Status</td>
            <td>Created At</td>
            <td>Action</td>
          </tr>
      
          <% for(var i=0; i< EventList.length; i++ ){ %>
            <tr>
            <td><%= EventList[i].id %></td>
            <td><%= EventList[i].eventName %></td>
            <td><%= EventList[i].creatorId %></td>
            <td><%= EventList[i].description %></td>
            <td><%= EventList[i].goalAmount %></td>
            <td><%= EventList[i].goalDate %></td>
            <td><%= EventList[i].isApproved %></td>
            <td><%= EventList[i].createdAt %></td>
            <td>
              <% if(EventList[i].isApproved==0 ){ %>
              <a href="/moderator/approve/<%=EventList[i].id%>">Approve</a> 
              <a href="/user/decline/<%=EventList[i].id%>">Decline</a>
              <a href="/user/modify/<%=EventList[i].id%>">Modify</a>
              <% } else { %>
              
                
                <a href="/user/modify/<%=EventList[i].id%>">Modify</a>
                <% } %>    
            </td>
          </tr>
          <% } %>
        </table>




















      </div>

      <div class="w3-container tab" id="Contact" style="display: none">
        <h2>Contact</h2>
      </div>

      <div class="w3-container tab" id="Reports" style="display: none">
        <h2>Reports</h2>
      </div>
    </div>
  </body>

  <script>
    function openTab(evt, TabName) {
      var i, x, tablinks;
      x = document.getElementsByClassName("tab");
      for (i = 0; i < x.length; i++) {
        x[i].style.display = "none";
      }
      tablinks = document.getElementsByClassName("tablink");
      for (i = 0; i < x.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" w3-green", "");
      }
      document.getElementById(TabName).style.display = "block";
      evt.currentTarget.className += " w3-green";
    }
  </script>
</html>
